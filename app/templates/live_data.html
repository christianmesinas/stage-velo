{% extends 'base_admin.html' %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/live_data.css') }}">
{% endblock %}

{% block content %}
<h2 class="dashboard-header">ðŸš² {{ _('Live Data Fietsstations (Antwerpen)') }}</h2>

<div class="stats-grid">
  <div class="stat-card">
    <h3>{{ _('Totaal aantal stations') }}</h3>
    <p>{{ stations|length }}</p>
  </div>

  <div class="stat-card">
    <h3>{{ _('Totaal aantal fietsen') }}</h3>
    <p>{{ stations | sum(attribute=6) }}</p>
  </div>

  <div class="stat-card">
    <h3>{{ _('Totaal aantal lege slots') }}</h3>
    <p>{{ stations | sum(attribute=7) }}</p>
  </div>

  <div class="stat-card">
    <h3>{{ _('Totaal capaciteit') }}</h3>
    <p>{{ stations | sum(attribute=8) }}</p>
  </div>
</div>

<div class="table-container">
  <table class="fixed-header-table">
    <thead>
      <tr>
        <th>{{ _('Naam') }}</th>
        <th>{{ _('Adres') }}</th>
        <th>{{ _('Status') }}</th>
        <th>{{ _('Beschikbaar') }}</th>
        <th>{{ _('Lege slots') }}</th>
        <th>{{ _('Capaciteit') }}</th>
      </tr>
    </thead>
  </table>

  <div class="scrollbox">
    <table class="fixed-header-table">
      <tbody>
        {% for s in stations %}
        <tr>
          <td>{{ s[1] }}</td>
          <td>{{ s[2] }}</td>
          <td>{{ s[3] }}</td>
          <td>{{ s[6] }}</td>
          <td>{{ s[7] }}</td>
          <td>{{ s[8] }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<div class="stat-card5" style="max-width: 400px; margin-bottom: 2rem;">
  <h3>ðŸ”¥ {{ _('Populairste station vandaag') }}</h3>
  <p style="font-size: 1.4rem; color: #2c3e50;">
    {{ populairste_station.naam }}<br>
    <small style="color: #999;">{{ _('%(ritten)d ritten gestart', ritten=populairste_station.ritten) }}</small>
  </p>
</div>
{% endblock %}
